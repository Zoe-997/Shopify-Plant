<div data-section-id="{{ section.id }}" data-section-type="section-product-v5" style="{% if section.settings.margin_top != blank %}margin-top: {{section.settings.margin_top}}px;{%endif%} {% if section.settings.margin_bottom != blank %}margin-bottom: {{section.settings.margin_bottom}}px;{% endif %}">
  <div class="container product-v2 product-v3 product-v4 product-v5" style="background: url({% if section.settings.bg_img == blank %}https://placehold.it/1920x1080{% else %}{{section.settings.bg_img|img_url:'master'}}{% endif %}) no-repeat; background-size: cover;">
    <div class="group-product slider product-v4 js-product-v5">
      {% for product in collections[section.settings.product_collection].products limit:section.settings.product_limit %}
      {% include 'product-item-spv5' %}
      {% else %}
      {% include 'product-item-spv5-empty' %}
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Product v5",
  "class": "index-section",
  "settings": [
    {
      "type": "image_picker",
      "id": "bg_img",
      "label": "Background image"
    },
    {
      "type": "collection",
      "id": "product_collection",
      "label": "Select Collection"
    },
    {
      "type": "text",
      "id": "product_limit",
      "label": "Limit number",
      "default": "6"
    },
    {
      "type": "header",
      "content": "Section Space"
    },
    {
      "type": "text",
      "id": "margin_top",
      "label": "Margin Top",
      "info": "Defined in pixels. Do not add the 'px' unit."
    },
    {
      "type": "text",
      "id": "margin_bottom",
      "label": "Margin Bottom",
      "info": "Defined in pixels. Do not add the 'px' unit."
    }
  ],
  "presets": [
    {
      "name": "Product v5",
      "category": "Product"
    }
  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
